
<div ng-include="'views/partials/nav.html'"></div>

<p>in all worlds....</p>
<input type="text" placeholder="Search" ng-model="searchText" />
<br><br>

<div class="row">

<!-- needing the weird world.world stuff here because need allWorldIds to contain both the world and the obstacles array -->
  <div ng-repeat="world in ac.allWorldIds | filter:searchText | orderBy:'id'" class="col-lg-3 col-md-4 boxMain">

    <p>Author: {{world.world.username}}</p>
    <p>Title: {{world.world.title}}, {{world.id}}
    <p>Cannon-x: {{world.world.start_x}}</p>

    <p>Cannon-y: {{world.world.start_y}}</p>

    <p>Bucket-x: {{world.world.end_x}}</p>
    <p>Bucket-y: {{world.world.end_y}}</p>
    <p>Views: {{world.world.attempts}}</p>
    <p>Favorites: {{world.favs}}</p>
    <p>Completions: {{world.completions}}</p>
    <div ng-repeat="completion in world.compList | orderBy: 'time' | limitTo: 3">
      <ul>
        <li>User: {{completion.username}}</li>
        <li>Time: {{completion.time}}</li>
      </ul>
    </div>
    <!-- <canvas height=120 width=200></canvas> -->
    <p>Obstacles:</p>
    <p><button ng-click="ac.playWorld(world)">PLAY</button></p>
    <p><button ng-click="ac.faveWorld(world)" ng-hide="world.isFavorited">FAVORITE</button></p>
    <p ng-show="world.isFavorited">YOU LOVE THIS!</p>

    <div ng-repeat="obstacle in world.obstacles " class="col-lg-3 col-md-4">
      <p>Type: {{obstacle.type}}</p>
      <p>Height: {{obstacle.h}}</p>
      <p>Width: {{obstacle.w}}</p>
      <p>x-location: {{obstacle.x}}</p>
      <p>y-location: {{obstacle.y}}</p>
    </div>

  </div>
</div>
